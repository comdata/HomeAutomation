/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","sap/ui/core/Core","./library","./ListBaseRenderer","./ColumnListItemRenderer"],function(R,C,l,L,a){"use strict";var b=l.ListKeyboardMode;var T=R.extend(L);T.apiVersion=2;var r=C.getConfiguration().getRTL();T.columnAlign={left:r?"flex-end":"flex-start",center:"center",right:r?"flex-start":"flex-end"};T.renderColumns=function(c,t,d){var i=0,h=0,e=false,f=false,m=t.getMode(),M=L.ModeOrder[m],g="sapMListTbl",j=t.getId("tbl"),k=(d=="Head")?"th":"td",n="t"+d.toLowerCase(),o=t.getColumns(),A=d=="Head"&&t.bActiveHeaders,p=(d=="Head")&&o.every(function(u){return!u.getHeader()||!u.getHeader().getVisible()||!u.getVisible()||u.isPopin()||u.isHidden();}),q=(d=="Head")&&o.filter(function(u){return u.getVisible()&&!u.isPopin()&&!u.isHidden();}).length==1,s=function(u,v,w){c.openStart(k,v&&j+v);if(k==="th"){c.class("sapMTableTH");c.attr("role",w?"presentation":"columnheader");}else if(w){c.attr("role","presentation");}w&&c.attr("aria-hidden","true");c.class(g+u);c.openEnd();c.close(k);i++;};c.openStart(n).openEnd();c.openStart("tr",t.addNavSection(j+d+"er"));c.attr("tabindex",-1);if(p){c.class("sapMListTblHeaderNone");}else{c.class("sapMListTblRow").class("sapMLIBFocusable").class("sapMListTbl"+d+"er");a.addLegacyOutlineClass.call(a,c);}c.openEnd();s("HighlightCol",d+"Highlight",true);if(M==-1){if(m=="MultiSelect"&&d=="Head"&&!p){c.openStart("th");c.class("sapMTableTH");c.attr("aria-hidden","true");c.class(g+"SelCol");c.attr("role","presentation");c.openEnd();c.renderControl(t._getSelectAllCheckbox());c.close("th");i++;}else{s("SelCol","",true);}}o.forEach(function(u,v){u.setIndex(-1);u.setInitialOrder(v);});t.getColumns(true).forEach(function(u,v){if(!u.getVisible()){return;}if(u.isPopin()){e=true;return;}if(u.isHidden()){h++;}var w=u["get"+d+"er"](),x=q?"":u.getWidth(),y=u.getStyleClass(true),z=u.getCssAlign();if(d=="Head"){c.openStart(k,u);c.class("sapMTableTH");c.attr("role","columnheader");var S=u.getSortIndicator().toLowerCase();S!=="none"&&c.attr("aria-sort",S);}else{c.openStart(k);}y&&c.class(y);c.class(g+"Cell");c.class(g+d+"erCell");c.attr("data-sap-width",u.getWidth());c.style("width",x);if(z&&d!=="Head"){c.style("text-align",z);}c.openEnd();if(w){if(d==="Head"){c.openStart("div");c.class("sapMColumnHeader");if(A){c.attr("tabindex",0);c.attr("role","button");c.attr("aria-haspopup","dialog");c.class("sapMColumnHeaderActive");}if(z){c.style("justify-content",T.columnAlign[z]);c.style("text-align",z);}c.openEnd();c.renderControl(w.addStyleClass("sapMColumnHeaderContent"));c.close("div");}else{c.renderControl(w);}}if(d=="Head"&&!f){f=!!u.getFooter();}c.close(k);u.setIndex(i++);});s("NavCol",d+"Nav",!t._iItemNeedsColumn);if(M==1){s("SelCol","",true);}c.close("tr");c.close(n);if(d=="Head"){t._hasPopin=e;t._colCount=i-h;t._hasFooter=f;t._headerHidden=p;}};T.renderContainerAttributes=function(c,o){c.attr("role","application");c.attr("aria-labelledby",this.getAriaAnnouncement("TABLE_CONTAINER_ROLE_DESCRIPTION"));c.class("sapMListTblCnt");L.renderContainerAttributes.apply(this,arguments);};T.renderListStartAttributes=function(c,o){c.openStart("table",o.getId("listUl"));c.class("sapMListTbl");if(o.getFixedLayout()===false){c.style("table-layout","auto");}if(o._iItemNeedsColumn){c.class("sapMListTblHasNav");}};T.getAriaRole=function(c){return"";};T.getAriaLabelledBy=function(c){var p=L.getAriaLabelledBy.call(this,c);var s=this.getAriaAnnouncement("TABLE_ROLE_DESCRIPTION");if(p&&s){return p+" "+s;}return s||p;};T.renderListHeadAttributes=function(c,o){this.renderColumns(c,o,"Head");c.openStart("tbody",o.addNavSection(o.getId("tblBody")));c.class("sapMListItems");c.class("sapMTableTBody");if(o.getAlternateRowColors()){c.class(o._getAlternateRowColorsClass());}if(o.hasPopin()){c.class("sapMListTblHasPopin");}c.openEnd();};T.renderListEndAttributes=function(c,o){c.close("tbody");o._hasFooter&&this.renderColumns(c,o,"Foot");c.close("table");};T.renderNoData=function(c,o){c.openStart("tr",o.getId("nodata"));c.attr("tabindex",o.getKeyboardMode()==b.Navigation?-1:0);c.class("sapMLIB").class("sapMListTblRow").class("sapMLIBTypeInactive");a.addFocusableClasses.call(a,c);if(!o._headerHidden||(!o.getHeaderText()&&!o.getHeaderToolbar())){c.class("sapMLIBShowSeparator");}c.openEnd();c.openStart("td",o.getId("nodata-text"));c.attr("colspan",o.getColCount());c.class("sapMListTblCell").class("sapMListTblCellNoData");c.openEnd();c.text(o.getNoDataText(true));c.close("td");c.close("tr");};return T;},true);
