/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/Device"],function(E,I,a,D){"use strict";var S={apiVersion:2};S.CSS_CLASS="sapMSelectList";S.render=function(r,l){this.writeOpenListTag(r,l,{elementData:true});this.renderItems(r,l);this.writeCloseListTag(r,l);};S.writeOpenListTag=function(r,l,s){var C=S.CSS_CLASS;if(s.elementData){r.openStart("ul",l);}else{r.openStart("ul");}r.class(C);if(l.getShowSecondaryValues()){r.class(C+"TableLayout");}if(!l.getEnabled()){r.class(C+"Disabled");}r.style("width",l.getWidth());r.style("max-width",l.getMaxWidth());this.writeAccessibilityState(r,l);r.openEnd();};S.writeCloseListTag=function(r,l){r.close("ul");};S.renderItems=function(r,l){var s=l._getNonSeparatorItemsCount(),b=l.getItems(),o=l.getSelectedItem(),c=1,d;for(var i=0;i<b.length;i++){d={selected:o===b[i],setsize:s,elementData:true};if(!(b[i]instanceof sap.ui.core.SeparatorItem)){d.posinset=c++;}this.renderItem(r,l,b[i],d);}};S.renderItem=function(r,l,i,s){if(!(i instanceof E)){return;}var e=i.getEnabled(),o=l.getSelectedItem(),C=S.CSS_CLASS,t=i.getTooltip_AsString(),b=l.getShowSecondaryValues();r.openStart("li",s.elementData?i:null);if(i.getIcon&&i.getIcon()){r.class("sapMSelectListItemWithIcon");}if(i instanceof sap.ui.core.SeparatorItem){r.class(C+"SeparatorItem");if(b){r.class(C+"Row");}}else{r.class(C+"ItemBase");if(b){r.class(C+"Row");}else{r.class(C+"Item");}if(i.bVisible===false){r.class(C+"ItemBaseInvisible");}if(!e){r.class(C+"ItemBaseDisabled");}if(e&&D.system.desktop){r.class(C+"ItemBaseHoverable");}if(i===o){r.class(C+"ItemBaseSelected");}if(e){r.attr("tabindex","0");}}r.style("max-width",l.getMaxWidth());if(t){r.attr("title",t);}this.writeItemAccessibilityState.apply(this,arguments);r.openEnd();if(b){r.openStart("span");r.class(C+"Cell");r.class(C+"FirstCell");r.attr("disabled","disabled");r.openEnd();this._renderIcon(r,i);r.text(i.getText());r.close("span");r.openStart("span");r.class(C+"Cell");r.class(C+"LastCell");r.attr("disabled","disabled");r.openEnd();if(typeof i.getAdditionalText==="function"){r.text(i.getAdditionalText());}r.close("span");}else{this._renderIcon(r,i);r.text(i.getText());}r.close("li");};S.writeAccessibilityState=function(r,l){r.accessibilityState(l,{role:"listbox"});};S.writeItemAccessibilityState=function(r,l,i,s){var R=(i.isA("sap.ui.core.SeparatorItem"))?"separator":"option";var d;if(!i.getText()&&i.getIcon&&i.getIcon()){var o=a.getIconInfo(i.getIcon());if(o){d=o.text||o.name;}}r.accessibilityState(i,{role:R,selected:s.selected,setsize:s.setsize,posinset:s.posinset,label:d});};S._renderIcon=function(r,i){if(i.getIcon&&i.getIcon()){r.icon(i.getIcon(),S.CSS_CLASS+"ItemIcon",{id:i.getId()+"-icon"});}};return S;},true);
