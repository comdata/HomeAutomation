/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/ui/core/Core","sap/ui/Device"],function(l,C,D){"use strict";var a=l.CarouselArrowsPlacement;var P=l.PlacementType;var r=C.getLibraryResourceBundle('sap.m');var b={};b._BULLETS_TO_NUMBERS_THRESHOLD=9;b.render=function(c,o){var p=o.getPages(),i=p.length,s=o.getPageIndicatorPlacement(),A=o.getArrowsPlacement(),I=o.getId(),B=b._BULLETS_TO_NUMBERS_THRESHOLD,d=o._getPageNumber(o.getActivePage());this._renderOpeningDiv(c,o);if(s===P.Top){this._renderPageIndicatorAndArrows({rm:c,iPageCount:i,sId:I,iIndex:d,iBulletsToNumbersThreshold:B,sArrowsPlacement:A,bBottom:false,bShowPageIndicator:o.getShowPageIndicator()},o);}this._renderInnerDiv(c,o,p,s);if(D.system.desktop&&i>o._getNumberOfItemsToShow()&&A===a.Content){this._renderHudArrows(c,o);}if(s===P.Bottom){this._renderPageIndicatorAndArrows({rm:c,iPageCount:i,sId:I,iIndex:d,iBulletsToNumbersThreshold:B,sArrowsPlacement:A,bBottom:true,bShowPageIndicator:o.getShowPageIndicator()},o);}this._renderClosingDiv(c);};b._renderOpeningDiv=function(c,o){var t=o.getTooltip_AsString();c.write("<div");c.writeControlData(o);c.writeAttribute("data-sap-ui-customfastnavgroup","true");c.addStyle("width",o.getWidth());c.addStyle("height",o.getHeight());c.writeStyles();c.addClass("sapMCrsl");c.addClass("sapMCrslFluid");c.writeClasses();if(t){c.writeAttributeEscaped("title",t);}c.writeAttributeEscaped("tabindex","0");c.writeAccessibilityState(o,{role:"list"});c.write(">");};b._renderInnerDiv=function(c,o,p,s){c.write("<div class='sapMCrslInner");o._cleanUpScrollContainer();if(p.length>1&&(o.getShowPageIndicator()||o.getArrowsPlacement()===a.PageIndicator)){if(s===P.Bottom){c.write(" sapMCrslBottomOffset");if(o.getArrowsPlacement()===a.PageIndicator){c.write(" sapMCrslBottomArrowsOffset");}}else{c.write(" sapMCrslTopOffset");if(o.getArrowsPlacement()===a.PageIndicator){c.write(" sapMCrslTopArrowsOffset");}}}c.write("'>");var R=function(d,i,A){c.write("<div class='sapMCrslItem");c.write("' id='"+o.sId+"-"+d.sId+"-slide'");c.writeAccessibilityState(d,{role:"listitem",posinset:i+1,setsize:A.length});c.write(">");c.renderControl(o._createScrollContainer(d,i));c.write("</div>");};if(p.length!==0){p.forEach(R);}else{c.renderControl(o._getErrorPage());}c.write("</div>");};b._renderClosingDiv=function(c){c.write('</div>');};b._renderPageIndicatorAndArrows=function(s,c){var d=s.rm,p=s.iPageCount,S=D.system.desktop&&s.sArrowsPlacement===a.PageIndicator,B=s.bBottom,I=s.sId,e=s.iIndex,f=s.iBulletsToNumbersThreshold,g=s.bShowPageIndicator,h=g?'':'opacity: 0',o="",n=c._getNumberOfItemsToShow(),t=r.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[e+1,p-n+1]),j=1;if(p<=c._getNumberOfItemsToShow()){return;}if(!g&&!S){return;}if(B){o+=" sapMCrslControlsBottom";}else{o+=" sapMCrslControlsTop";}if(S){d.write('<div');d.addClass("sapMCrslControls");d.addClass(o);d.writeClasses();d.write('>');d.write('<div class="sapMCrslControlsContainer'+o+'">');}else{d.write('<div class="sapMCrslControlsNoArrows'+o+'">');}if(S){this._renderPrevArrow(d,c);}var k=I+'-pageIndicator';d.write('<div id="'+k+'" style="'+h+'"');if(p<f){d.write(' class="sapMCrslBulleted">');for(var i=1;i<=p-n+1;i++){d.write("<span role='img' data-slide="+j+" aria-label='"+r.getText('CAROUSEL_POSITION',[i,p])+"'>"+i+"</span>");j++;}}else{d.write(' class="sapMCrslNumeric">');d.write('<span id='+I+'-'+'slide-number>'+t+'</span>');}d.write('</div>');if(S){this._renderNextArrow(d,c);}if(!S){d.write('</div>');}if(S){d.write('</div>');d.write('</div>');}};b._renderHudArrows=function(c,o){var d;if(o.getShowPageIndicator()){if(o.getPageIndicatorPlacement()===P.Top){d="sapMCrslHudTop";}else if(o.getPageIndicatorPlacement()===P.Bottom){d="sapMCrslHudBottom";}}else{d="sapMCrslHudMiddle";}var h=o.getId()+'-hud';c.write('<div id="'+h+'" class="sapMCrslHud '+d+'">');this._renderPrevArrow(c,o);this._renderNextArrow(c,o);c.write("</div>");};b._renderPrevArrow=function(c,o){var t=r.getText("PAGINGBUTTON_PREVIOUS");c.write("<a class='sapMCrslPrev' title='"+t+"' href='#' data-slide='prev' tabindex='-1'><div class='sapMCrslArrowInner'>");c.renderControl(o._getNavigationArrow('left'));c.write("</div></a>");};b._renderNextArrow=function(c,o){var t=r.getText("PAGINGBUTTON_NEXT");c.write("<a class='sapMCrslNext' title='"+t+"' href='#' data-slide='next' tabindex='-1'><div class='sapMCrslArrowInner'>");c.renderControl(o._getNavigationArrow('right'));c.write("</div></a>");};return b;},true);
