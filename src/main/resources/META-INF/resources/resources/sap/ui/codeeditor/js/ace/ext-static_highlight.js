ace.define("ace/ext/static_highlight",["require","exports","module","ace/edit_session","ace/layer/text","ace/config","ace/lib/dom","ace/lib/lang"],function(r,e,a){"use strict";var E=r("../edit_session").EditSession;var T=r("../layer/text").Text;var b=".ace_static_highlight {font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Droid Sans Mono', monospace;font-size: 12px;white-space: pre-wrap}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;contain: none;}.ace_static_highlight.ace_show_gutter .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line { position: relative; }.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}";var c=r("../config");var d=r("../lib/dom");var f=r("../lib/lang").escapeHTML;function g(t){this.type=t;this.style={};this.textContent="";}g.prototype.cloneNode=function(){return this;};g.prototype.appendChild=function(i){this.textContent+=i.toString();};g.prototype.toString=function(){var i=[];if(this.type!="fragment"){i.push("<",this.type);if(this.className)i.push(" class='",this.className,"'");var j=[];for(var k in this.style){j.push(k,":",this.style[k]);}if(j.length)i.push(" style='",j.join(""),"'");i.push(">");}if(this.textContent){i.push(this.textContent);}if(this.type!="fragment"){i.push("</",this.type,">");}return i.join("");};var s={createTextNode:function(t,i){return f(t);},createElement:function(t){return new g(t);},createFragment:function(){return new g("fragment");}};var S=function(){this.config={};this.dom=s;};S.prototype=T.prototype;var h=function(j,o,k){var m=j.className.match(/lang-(\w+)/);var l=o.mode||m&&("ace/mode/"+m[1]);if(!l)return false;var t=o.theme||"ace/theme/textmate";var n="";var p=[];if(j.firstElementChild){var q=0;for(var i=0;i<j.childNodes.length;i++){var u=j.childNodes[i];if(u.nodeType==3){q+=u.data.length;n+=u.data;}else{p.push(q,u);}}}else{n=j.textContent;if(o.trim)n=n.trim();}h.render(n,l,t,o.firstLineNumber,!o.showGutter,function(v){d.importCssString(v.css,"ace_highlight");j.innerHTML=v.html;var w=j.firstChild.firstChild;for(var i=0;i<p.length;i+=2){var x=v.session.doc.indexToPosition(p[i]);var y=p[i+1];var z=w.children[x.row];z&&z.appendChild(y);}k&&k();});};h.render=function(i,j,t,l,k,n){var w=1;var o=E.prototype.$modes;if(typeof t=="string"){w++;c.loadModule(['theme',t],function(m){t=m;--w||q();});}var p;if(j&&typeof j==="object"&&!j.getTokenizer){p=j;j=p.path;}if(typeof j=="string"){w++;c.loadModule(['mode',j],function(m){if(!o[j]||p)o[j]=new m.Mode(p);j=o[j];--w||q();});}function q(){var m=h.renderSync(i,j,t,l,k);return n?n(m):m;}return--w||q();};h.renderSync=function(i,m,t,l,j){l=parseInt(l||1,10);var n=new E("");n.setUseWorker(false);n.setMode(m);var o=new S();o.setSession(n);Object.keys(o.$tabStrings).forEach(function(k){if(typeof o.$tabStrings[k]=="string"){var y=s.createFragment();y.textContent=o.$tabStrings[k];o.$tabStrings[k]=y;}});n.setValue(i);var p=n.getLength();var q=s.createElement("div");q.className=t.cssClass;var u=s.createElement("div");u.className="ace_static_highlight"+(j?"":" ace_show_gutter");u.style["counter-reset"]="ace_line "+(l-1);for(var v=0;v<p;v++){var w=s.createElement("div");w.className="ace_line";if(!j){var x=s.createElement("span");x.className="ace_gutter ace_gutter-cell";x.textContent="";w.appendChild(x);}o.$renderLine(w,v,false);w.textContent+="\n";u.appendChild(w);}q.appendChild(u);return{css:b+t.cssText,html:q.toString(),session:n};};a.exports=h;a.exports.highlight=h;});(function(){ace.require(["ace/ext/static_highlight"],function(m){if(typeof module=="object"&&typeof exports=="object"&&module){module.exports=m;}});})();
