/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/CalendarType","sap/ui/core/format/DateFormat","sap/ui/model/odata/ODataUtils","sap/ui/model/odata/v4/lib/_Helper"],function(C,D,B,_){"use strict";var d,o,s="\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])",t,T="(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(\\.\\d{1,12})?)?",r=new RegExp("^"+s+"$"),a=new RegExp("^"+s+"T"+T+"(?:Z|[-+](?:0\\d|1[0-3]):[0-5]\\d|[-+]14:00)$","i"),b=new RegExp("^"+T+"$"),O={_setDateTimeFormatter:function(){d=D.getDateInstance({calendarType:C.Gregorian,pattern:"yyyy-MM-dd",strictParsing:true,UTC:true});o=D.getDateTimeInstance({calendarType:C.Gregorian,pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSX",strictParsing:true});t=D.getTimeInstance({calendarType:C.Gregorian,pattern:"HH:mm:ss.SSS",strictParsing:true,UTC:true});},compare:function(v,V,e){if(e===true||e==="Decimal"){return B.compare(v,V,true);}if(e==="DateTime"){return B.compare(O.parseDateTimeOffset(v),O.parseDateTimeOffset(V));}return B.compare(v,V);},formatLiteral:function(v,c){return _.formatLiteral(v,c);},parseDate:function(c){var e=r.test(c)&&d.parse(c);if(!e){throw new Error("Not a valid Edm.Date value: "+c);}return e;},parseDateTimeOffset:function(c){var e,m=a.exec(c);if(m){if(m[1]&&m[1].length>4){c=c.replace(m[1],m[1].slice(0,4));}e=o.parse(c.toUpperCase());}if(!e){throw new Error("Not a valid Edm.DateTimeOffset value: "+c);}return e;},parseTimeOfDay:function(c){var e;if(b.test(c)){if(c.length>12){c=c.slice(0,12);}e=t.parse(c);}if(!e){throw new Error("Not a valid Edm.TimeOfDay value: "+c);}return e;}};O._setDateTimeFormatter();return O;},true);
