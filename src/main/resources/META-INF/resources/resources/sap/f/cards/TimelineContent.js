/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/cards/BaseContent","sap/suite/ui/commons/Timeline","sap/suite/ui/commons/library","sap/suite/ui/commons/TimelineItem",'sap/ui/base/ManagedObject',"sap/f/cards/BindingHelper","sap/f/cards/IconFormatter"],function(B,T,s,a,M,b,I){"use strict";var c=B.extend("sap.f.cards.TimelineContent",{renderer:{}});c.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oTimeLineItemTemplate){this._oTimeLineItemTemplate.destroy();this._oTimeLineItemTemplate=null;}};c.prototype._getTimeline=function(){var t=this.getAggregation("_content");if(this._bIsBeingDestroyed){return null;}if(!t){t=new T({id:this.getId()+"-Timeline",showHeaderBar:false,enableScroll:false});this.setAggregation("_content",t);}return t;};c.prototype.setConfiguration=function(C){B.prototype.setConfiguration.apply(this,arguments);if(!C){return this;}if(C.items){this._setStaticItems(C.items);return this;}if(C.item){this._setItem(C.item);}return this;};c.prototype._setItem=function(i){this._oTimeLineItemTemplate=new a({userNameClickable:false});i.title&&b.bindProperty(this._oTimeLineItemTemplate,"title",i.title.value);i.description&&b.bindProperty(this._oTimeLineItemTemplate,"text",i.description.value);i.ownerImage&&i.ownerImage.value&&b.bindProperty(this._oTimeLineItemTemplate,"userPicture",i.ownerImage.value,function(v){return I.formatSrc(v,this._sAppId);}.bind(this));i.dateTime&&b.bindProperty(this._oTimeLineItemTemplate,"dateTime",i.dateTime.value);i.owner&&b.bindProperty(this._oTimeLineItemTemplate,"userName",i.owner.value);i.icon&&b.bindProperty(this._oTimeLineItemTemplate,"icon",i.icon.src);this._oActions.attach(i,this);var o={template:this._oTimeLineItemTemplate};this._bindAggregation("content",this._getTimeline(),o);return this;};c.prototype._setStaticItems=function(i){var t=this._getTimeline(),o;i.forEach(function(d){o=new a({title:d.title,text:d.description,userPicture:d.ownerImage,dateTime:d.dateTime,userName:d.owner,icon:d.icon});t.addContent(o);});};c.prototype.getInnerList=function(){return this._getTimeline();};return c;});
