/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2015 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/base/ManagedObject'],function(M){"use strict";var P=M.extend("sap.ui.dt.Plugin",{metadata:{"abstract":true,library:"sap.ui.dt",properties:{designTime:{type:"sap.ui.dt.DesignTime",multiple:false}},associations:{},events:{}}});P.prototype.init=function(){};P.prototype.exit=function(){this.setDesignTime(null);};P.prototype.setDesignTime=function(d){var o=this.getDesignTime();if(o){this._deregisterOverlays(o);o.detachEvent("overlayCreated",this._onOverlayCreated,this);}if(d){this._registerOverlays(d);d.attachEvent("overlayCreated",this._onOverlayCreated,this);}this.setProperty("designTime",d);return this;};P.prototype._registerOverlays=function(d){if(this.registerOverlay||this.registerAggregationOverlay){var o=d.getOverlays();o.forEach(this._callOverlayRegistrationMethods.bind(this));}};P.prototype._deregisterOverlays=function(d){if(this.deregisterOverlay||this.deregisterAggregationOverlay){var o=d.getOverlays();o.forEach(this._callOverlayDeregestrationMethods.bind(this));}};P.prototype._callOverlayRegistrationMethods=function(o){if(this.registerOverlay){this.registerOverlay(o);}if(this.registerAggregationOverlay){var a=o.getAggregationOverlays();a.forEach(this.registerAggregationOverlay.bind(this));}};P.prototype._callOverlayDeregestrationMethods=function(o){if(this.deregisterOverlay){this.deregisterOverlay(o);}if(this.deregisterAggregationOverlay){var a=o.getAggregationOverlays();a.forEach(this.deregisterAggregationOverlay.bind(this));}};P.prototype._onOverlayCreated=function(e){var o=e.getParameter("overlay");this._callOverlayRegistrationMethods(o);};return P;},true);
